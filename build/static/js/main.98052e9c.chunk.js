(this.webpackJsonpthephonebook=this.webpackJsonpthephonebook||[]).push([[0],{37:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var r=t(0),c=t(1),o=t(14),a=t.n(o),u=t(3),i=function(e){var n=e.changeHandler;return Object(r.jsxs)("div",{children:["filter shown with ",Object(r.jsx)("input",{onChange:n})]})},s=function(e){var n=e.submitHandler,t=e.nameValue,c=e.nameChange,o=e.numberValue,a=e.numberChange;return Object(r.jsxs)("form",{onSubmit:n,children:[Object(r.jsxs)("div",{children:["name: ",Object(r.jsx)("input",{value:t,onChange:c})]}),Object(r.jsxs)("div",{children:["number:",Object(r.jsx)("input",{value:o,onChange:a})]}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{type:"submit",children:"add"})})]})},l=function(e){var n=e.person,t=e.deleteClick;return Object(r.jsxs)("div",{children:[n.name," ",n.number," ",Object(r.jsx)("button",{onClick:function(){return t(n.id,n.name)},children:"delete"})]})},d=function(e){var n=e.showAll,t=e.filteredContacts,c=e.persons,o=e.deleteClick;return n?c.map((function(e){return Object(r.jsx)(l,{person:e,deleteClick:o},e.id)})):t.map((function(e){return Object(r.jsx)(l,{person:e,deleteClick:o},e.id)}))},b=function(e){var n=e.message,t={color:"error"===e.type?"red":"green",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10};return null===n?null:Object(r.jsx)("div",{style:t,children:n})},j=t(4),f=t.n(j),h="/api/persons",m=function(){return f.a.get(h).then((function(e){return e.data}))},O=function(e){return f.a.post(h,e).then((function(e){return e.data}))},p=function(e,n){return f.a.put("".concat(h,"/").concat(e),n).then((function(e){return e.data}))},g=function(e){return f.a.delete("".concat(h,"/").concat(e))},x=function(){var e=Object(c.useState)([]),n=Object(u.a)(e,2),t=n[0],o=n[1],a=Object(c.useState)(""),l=Object(u.a)(a,2),j=l[0],f=l[1],h=Object(c.useState)(""),x=Object(u.a)(h,2),v=x[0],w=x[1],C=Object(c.useState)([]),k=Object(u.a)(C,2),y=k[0],S=k[1],L=Object(c.useState)(!0),H=Object(u.a)(L,2),V=H[0],A=H[1],D=Object(c.useState)(null),T=Object(u.a)(D,2),B=T[0],E=T[1],J=Object(c.useState)(""),z=Object(u.a)(J,2),I=z[0],N=z[1];Object(c.useEffect)((function(){m().then((function(e){o(e)}))}),[]);return Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"Phonebook"}),Object(r.jsx)(b,{message:B,type:I}),Object(r.jsx)(i,{changeHandler:function(e){var n=e.target.value,r=t.filter((function(e){return-1!==e.name.toLowerCase().indexOf(n.toLowerCase())}));A(t.length===r.length),S(r)}}),Object(r.jsx)("h3",{children:"Add new"}),Object(r.jsx)(s,{submitHandler:function(e){e.preventDefault();var n={name:j,number:v},r=t.find((function(e){return e.name.toLowerCase()===j.toLowerCase()}));r?window.confirm("".concat(r.name," is already in your phonebook! Do you want to replace their existing phone number - ").concat(r.number,"?"))?(console.log(n,typeof n),p(r.id,n).then((function(e){return o(t.map((function(n){return n.name.toLowerCase()!==e.name.toLowerCase()?n:e})))})).then((function(e){E("".concat(r.name," was updated!")),N("success"),setTimeout((function(){E(null)}),5e3)})).catch((function(e){E("Contact information for ".concat(r.name," has already been removed from the server.")),N("error"),o(t.filter((function(e){return e.id!==r.id}))),setTimeout((function(){E(null)}),5e3)}))):window.alert("".concat(r.name," hasn't been added or updated.")):O(n).then((function(e){o(t.concat(e))})).then((function(e){E("".concat(n.name," was added!")),N("success"),setTimeout((function(){E(null)}),5e3)})),f(""),w("")},nameValue:j,nameChange:function(e){return f(e.target.value)},numberValue:v,numberChange:function(e){return w(e.target.value)}}),Object(r.jsx)("h3",{children:"Numbers"}),Object(r.jsx)(d,{showAll:V,filteredContacts:y,persons:t,deleteClick:function(e,n){window.confirm("Delete ".concat(n,"?"))&&(g(e),o(t.filter((function(n){return n.id!==e}))))}})]})};t(37);a.a.render(Object(r.jsx)(x,{}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.98052e9c.chunk.js.map
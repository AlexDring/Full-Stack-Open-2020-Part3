(this.webpackJsonpthephonebook=this.webpackJsonpthephonebook||[]).push([[0],{37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(1),o=n(14),a=n.n(o),u=n(3),i=function(e){var t=e.changeHandler;return Object(r.jsxs)("div",{children:["filter shown with ",Object(r.jsx)("input",{onChange:t})]})},s=function(e){var t=e.submitHandler,n=e.nameValue,c=e.nameChange,o=e.numberValue,a=e.numberChange;return Object(r.jsxs)("form",{onSubmit:t,children:[Object(r.jsxs)("div",{children:["name: ",Object(r.jsx)("input",{value:n,onChange:c})]}),Object(r.jsxs)("div",{children:["number:",Object(r.jsx)("input",{value:o,onChange:a})]}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{type:"submit",children:"add"})})]})},l=function(e){var t=e.person,n=e.deleteClick;return Object(r.jsxs)("div",{children:[t.name," ",t.number," ",Object(r.jsx)("button",{onClick:function(){return n(t.id,t.name)},children:"delete"})]})},d=function(e){var t=e.showAll,n=e.filteredContacts,c=e.persons,o=e.deleteClick;return t?c.map((function(e){return Object(r.jsx)(l,{person:e,deleteClick:o},e.id)})):n.map((function(e){return Object(r.jsx)(l,{person:e,deleteClick:o},e.id)}))},j=function(e){var t=e.message,n={color:"error"===e.type?"red":"green",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10};return null===t?null:Object(r.jsx)("div",{style:n,children:t})},b=n(4),h=n.n(b),f="/api/persons",O=function(){return h.a.get(f).then((function(e){return e.data}))},m=function(e){return h.a.post(f,e).then((function(e){return e.data}))},g=function(e){return h.a.delete("".concat(f,"/").concat(e))},p=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],o=t[1],a=Object(c.useState)(""),l=Object(u.a)(a,2),b=l[0],h=l[1],f=Object(c.useState)(""),p=Object(u.a)(f,2),x=p[0],v=p[1],C=Object(c.useState)([]),k=Object(u.a)(C,2),w=k[0],S=k[1],y=Object(c.useState)(!0),H=Object(u.a)(y,2),V=H[0],A=H[1],B=Object(c.useState)(null),D=Object(u.a)(B,2),E=D[0],J=D[1],L=Object(c.useState)(""),T=Object(u.a)(L,2),z=T[0],I=T[1];Object(c.useEffect)((function(){O().then((function(e){o(e)}))}),[]);return Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"Phonebook"}),Object(r.jsx)(j,{message:E,type:z}),Object(r.jsx)(i,{changeHandler:function(e){var t=e.target.value,r=n.filter((function(e){return-1!==e.name.toLowerCase().indexOf(t.toLowerCase())}));A(n.length===r.length),S(r)}}),Object(r.jsx)("h3",{children:"Add new"}),Object(r.jsx)(s,{submitHandler:function(e){e.preventDefault();var t={name:b,number:x};m(t).then((function(e){o(n.concat(e)),J("".concat(t.name," was added!")),I("success"),setTimeout((function(){J(null)}),5e3)})).catch((function(e){console.log("ting",e),J(e.response.data.error),I("error"),setTimeout((function(){J(null)}),5e3),console.log(e.response.data)})),h(""),v("")},nameValue:b,nameChange:function(e){return h(e.target.value)},numberValue:x,numberChange:function(e){return v(e.target.value)}}),Object(r.jsx)("h3",{children:"Numbers"}),Object(r.jsx)(d,{showAll:V,filteredContacts:w,persons:n,deleteClick:function(e,t){window.confirm("Delete ".concat(t,"?"))&&(g(e),o(n.filter((function(t){return t.id!==e}))))}})]})};n(37);a.a.render(Object(r.jsx)(p,{}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.fac64c50.chunk.js.map